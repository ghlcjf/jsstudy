<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>
    // [객체]
    //    [자바] : 클래스를 통해 인스턴스(객체)를 생성
    //    [자바스크립트] : 여러가지 정보를 저장하는 집합체 : 배열과 유사
    //                  : 배열은 인덱스로 정보 관리
    //                  : 객체는 키와 값으로 관리

    let a1 = {}; // 아무 키도 없는 객체
    let a2 = {name : '홍길동',
              age : 23,
              adeerss : '경남 하동군',
              phone : '010-1234-5678'};
    // 키 : 값의 프로퍼티를 가짐

    // 값을 어떻게 추가/변경/삭제할 것인가

    // 1) 조회
    console.log(a2['name']);
    console.log(a2.phone);

    // 2) 삽입
    console.log(a2.major); // 없는 키

    a2.major = '응용소프트웨어 웹툰과';
    console.log(a2.major);
    a2['hobby'] = '잘 먹고 잘 싸기';
    console.log(a2.hobby);

    // 3) 변경

    a2.major = '전통 빅데이터과';
    console.log(a2.major);

    a2['hobby'] = '잘 먹고 잘 자기';
    console.log(a2['hobby']);

    // 4) 삭제
    
    delete a2.major;
    delete a2['hobby'];
    console.log(a2.hobby);
    console.log(a2['major']);

    // 객체 안에 키가 있는지 없는지 알고 싶을 때

    if('name' in a2){ // 키를 확인할 때는 'name'
      console.log(a2.name)
    }

    if('hobby' in a2 ){
      console.log(a2.hobby);
    }else{
      console.log('하고 싶은 게 없슴니다..')
    }
    //=====================================================================
    // 자바스크립트에는 클래스라는 것이 없어서 클래스와 비슷한 역할을 하는 포맷을 사용
    // => 생성자
    // 역할 : 필요한 정보를 받아서 객체를 생성하는 역할

    function Student(name,age,adrress,phone){
      this.name = name;
      this.age = age;
      this.adrress = adrress;
      this.phone = phone;
    }

    // 객체 생성하기

    let a4 = new Student('루피',15,'밀짚모자해적단','번호없음');
    console.log(a4.name);
    console.log(a4.age);
    console.log(a4.adrress);
    console.log(a4.phone);

    a4.major = '고무고무열매';
    a4['hobby']= '고무고무총';
    console.log(a4.major);
    console.log(a4['hobby']);


    let a5 = new Student('로우',16,'하트해적단','안알랴줌');
    console.log(a5);


    //===================================================================
    // 메서드 :  인스턴스 내부에 만들어지는 함수

    function Score(kor,eng,math){ // Score[name] = new Score('','','') 형태로 쓰일 생성자
     this.kor = kor;
     this.eng = eng;
     this.math = math;
     this.sum = function(){
      return this.kor+this.eng+this.math;
     }
     this.avg = function(){
      return Math.round((this.sum()/3)*10)/10;
     }// this.sum도 메서드이기 때문에 호출할 때는 () 붙여줘야함

    }


    Score['김회철'] = new Score(99,84,25);
    console.log(Score['김회철'].sum());
    console.log(Score['김회철'].avg());
    // 생성자 내부에 있는 메서드 sum과 avg를 호출할 때는 꼭 () 붙여줘야함



    //======================================================================
    // 자바스크립트에서 메서드는 키에 대한 값(데이터)로 존재하기 때문에
    // 메모리 낭비가 심할 수 있다.

    // 어차피 기능으로만 존재하는 메서드를 한 생성자로부터 생성되는 모든 객체가
    // 공유하는 공통의 공간=프로토타입에 저장함으로 메모리 낭비를 줄일 수 있다.


    function Score2(kor,eng,math){
      this.kor = kor;
      this.eng = eng;
      this.math = math;
    }

    Score2.prototype.sum = function(){
      return this.kor+this.eng+this.math;
    }
    Score2.prototype.avg = function(){
      return this.sum()/3;
    }

    Score2['박정우'] = new Score2(98,95,96);

    console.log(Score2['박정우'].sum());
    console.log(Score2['박정우'].avg());
  
  </script>
  
</body>
</html>